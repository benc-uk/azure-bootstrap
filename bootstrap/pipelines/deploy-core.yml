#
# 
#

trigger: none

variables:
  TF_VARS_location: "North Europe"
  TF_VARS_resGroup: "core.foo1"
  azureConnection: "azure"
  ARM_CLIENT_ID: "ae1a8673-73ef-459c-b628-5f77ae53c20c"
  ARM_CLIENT_SECRET: "f9821e3d-4259-40fe-a943-14b61bde9d0c"
  ARM_SUBSCRIPTION_ID: "52512f28-c6ed-403e-9569-82a9fb9fec91"
  ARM_TENANT_ID: "72f988bf-86f1-41af-91ab-2d7cd011db47"

jobs:
- job: deployCore
  displayName: Deploy with Terraform
  
  steps:
  - bash: terraform init
    displayName: Terraform init
    workingDirectory: bootstrap/terraform/core   

  - bash: terraform apply -auto-approve
    displayName: Terraform apply core
    workingDirectory: bootstrap/terraform/core  

